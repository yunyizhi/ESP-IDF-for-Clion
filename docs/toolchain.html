<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-10-06T21:43:18.8756928"><title>Toolchain | ESP-IDF for Clion 文档</title><script type="application/json" id="virtual-toc-data">[{"id":"toolchain","level":0,"title":"Toolchain 拓展配置文件","anchor":"#toolchain"},{"id":"mq3siz_9","level":0,"title":"离线工具的导出脚本","anchor":"#mq3siz_9"},{"id":"esp-idf","level":0,"title":"esp-idf源码导出脚本","anchor":"#esp-idf"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Toolchain | ESP-IDF for Clion 文档"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="ESP-IDF for Clion 文档 Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/toolchain.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Toolchain | ESP-IDF for Clion 文档"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/toolchain.html#webpage",
    "url": "writerside-documentation/toolchain.html",
    "name": "Toolchain | ESP-IDF for Clion 文档",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "ESP-IDF for Clion 文档 Help"
}</script><!-- End Schema.org --></head><body data-id="toolchain" data-main-title="Toolchain" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>ESP-IDF for Clion 文档  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="toolchain" id="toolchain.md">Toolchain</h1><p id="mq3siz_3">一般是默认生成的Toolchain，Toolchain对应的ESP-IDF环境正常则无需关心Toolchain。</p><p id="mq3siz_4">部分版本可以多版本共存，而有些离线安装版本在安装完未手动配置任何环境变量也会导致其他ESP-IDF不可用。 手动卸载冲突的版本时，同时需要清理Toolchain。</p><figure id="mq3siz_5"><img alt="toolchain.png" src="images/toolchian.png" title="toolchain.png" width="738" height="742"></figure><p id="mq3siz_6">可以查看ESP-IDF对应Toolchain的环境变量脚本路径。</p><p id="mq3siz_7">例如: <code class="code" id="mq3siz_11">C:\Users\admin\AppData\Roaming\JetBrains\CLion2024.2\org.btik.espidf\export_bfae8acc.bat</code>。</p><section class="chapter"><h2 id="toolchain" data-toc="toolchain">Toolchain 拓展配置文件</h2><p id="mq3siz_12">因为Toolchain的持久化是clion内部功能，暂无法修改，创项目时需要选择ESP-IDF对应的ToolChain,则额外存储了一份配置。</p><p id="mq3siz_13">在clion配置目录的下的<code class="code" id="mq3siz_17">org.btik.espidf</code>目录下有一个配置文件: <code class="code" id="mq3siz_18">espidf.json</code> ，配置目录一般在用户目录下，由Clion决定。 格式如下:</p><div class="code-block" data-lang="json">
[
  {
    &quot;envFileName&quot;: &quot;D:\\Users\\admin\\CLionProjects\\esp-idf\\export.bat&quot;,
    &quot;idfToolPath&quot;: &quot;D:\\Users\\admin\\CLionProjects\\esp-idf&quot;,
    &quot;activeTime&quot;: 1724824476196
  },
  {
    &quot;envFileName&quot;: &quot;C:\\Users\\admin\\AppData\\Roaming\\JetBrains\\CLion2024.2\\org.btik.espidf\\export_bfae8acc.bat&quot;,
    &quot;idfToolPath&quot;: &quot;D:\\Espressif&quot;,
    &quot;idfId&quot;: &quot;esp-idf-6a5fb824804c253366aea1d8fb612125&quot;,
    &quot;activeTime&quot;: 1723448151705
  }
]
</div><ul class="list _bullet" id="mq3siz_15"><li class="list__item" id="mq3siz_19"><p><code class="code" id="mq3siz_23">envFileName</code> 对应Toolchain里面选择的环境变量脚本。</p></li><li class="list__item" id="mq3siz_20"><p><code class="code" id="mq3siz_24">idfToolPath</code> ESP-IDF本地源码目录或者ESP-IDF离线安装工具的工具目录。具体由有无<code class="code" id="mq3siz_25">idfId</code>区分。</p></li><li class="list__item" id="mq3siz_21"><p><code class="code" id="mq3siz_26">idfId</code> 对应ESP-IDF离线安装工具下多个framework中的一个id，值来自于离线工具安装目录的<code class="code" id="mq3siz_27">esp_idf.json</code> 。若无此项说明是基于源码安装。</p></li><li class="list__item" id="mq3siz_22"><p><code class="code" id="mq3siz_28">activeTime</code> 最后一次活跃时间的时间戳，用于新建项目时默认填充最后一次选中的Toolchain配置。</p></li></ul><aside class="prompt" data-type="tip" data-title="" id="mq3siz_16"><p id="mq3siz_29">本插件会在没有对应脚本的Toolchain时自动创建，但这里没有存Toolchain名称，但如果重命名Toolchain其他已使用的的项目可能需要重新选择。</p></aside></section><section class="chapter"><h2 id="mq3siz_9" data-toc="mq3siz_9">离线工具的导出脚本</h2><p id="mq3siz_30">一般名为: <code class="code" id="mq3siz_35">expport_xxxxx.bat</code> 而且是在当前用户目录下一个clion的数据目录,由本插件自动生成。 内容示例如下:</p><div class="code-block" data-lang="bash">
 D:\Espressif\idf_cmd_init.bat esp-idf-6a5fb824804c253366aea1d8fb612125
</div><p id="mq3siz_32">其中后续是idfId ,在idf_cmd_init.bat中同级目录下有<code class="code" id="mq3siz_36">esp_idf.json</code> 中含具体framework对应的idfId。</p><p id="mq3siz_33">而离线工具安装完成生成的cmd快捷方式大致上也是使用idf_cmd_init.bat 去初始化对应的framework的环境到当前命令行。</p><p id="mq3siz_34">这一点和源码安装有区别并不是直接使用具体framework下的export脚本。</p></section><section class="chapter"><h2 id="esp-idf" data-toc="esp-idf">esp-idf源码导出脚本</h2><p id="mq3siz_37">就是linux或者windows下选Env Type为ESP-IDF时使用源码目录的export脚本。</p></section><div class="last-modified">Last modified: 06 十月 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="debug.html" class="navigation-links__prev">Debug</a><a href="adf.html" class="navigation-links__next">ADF</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script></body></html>